<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<title>Continuous Deployment at outbrain | PrettyPrint.me</title>
<meta name="generator" content="WordPress 3.2" /> <!-- leave this for stats -->
<link rel="alternate" type="application/rss+xml" title="PrettyPrint.me RSS Feed" href="../../../../feed/index.html" />
<link rel="pingback" href="../../../../xmlrpc.php" />
<link rel="stylesheet" type="text/css" media="all" href="../../../../wp-content/themes/retrospective/style.css" />
<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" media="all" href="http://prettyprint.me/wp-content/themes/retrospective/ie.css" />
<![endif]-->
<!--[if lte IE 6]>
	<link rel="stylesheet" type="text/css" media="all" href="http://prettyprint.me/wp-content/themes/retrospective/ie6.css" />
<![endif]--> 
<meta name="verify-v1" content="iFkC+FAFtOQ601MZ4pU4juKjv2UEYbdQNeezoVgCUyE=" >
<link rel="alternate" type="application/rss+xml" title="PrettyPrint.me &raquo; Continuous Deployment at outbrain Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='contact-form-7-css'  href='../../../../wp-content/plugins/contact-form-7/styles747d.css?ver=2.4.5' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/l10na17a.js?ver=20101110'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery51a2.js?ver=1.6.1'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/google-analyticator/external-tracking.min6fb3.js?ver=6.1.3'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='PrettyPrint.me' href='../../../../index.html' />
<link rel='start' title='Hello Pretty World' href='../../../../2009/05/17/hello-pretty-world/index.html' />
<link rel='prev' title='Hector API v2' href='../../../../2010/08/06/hector-api-v2/index.html' />
<link rel='next' title='Creating a Minimum Viable Product start page with WordPress' href='../../../02/06/creating-a-minimum-viable-product-start-page-with-wordpress/index.html' />
<meta name="generator" content="WordPress 3.2" />
<link rel='shortlink' href='../../../../index5294.html?p=335' />

<!-- All in One SEO Pack 1.6.13.3 by Michael Torbert of Semper Fi Web Design[209,251] -->
<meta name="description" content="Warning: very long but interesting write-up ;) It gives me great pleasure that the last project I've been working on at outbrain is one with the potential to" />
<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<meta name="tweetmeme-title" content="Continuous Deployment at outbrain" />
<link rel="stylesheet" href="../../../../wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen" />
<!-- Google Analytics Tracking by Google Analyticator 6.1.3: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2694026-6']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body>
<div id="header">
<a href="../../../../index.html" title="PrettyPrint.me">
<div id="logo">
<p>by Ran Tavory</p>
</div>
</a>
<div id="top_navlist">
<ul id="navlist">
<li class="page_item page-item-213"><a href="../../../../about-2/index.html" title="About.me">About.me</a></li>
<li class="page_item page-item-368"><a href="../../../../contact/index.html" title="Contact">Contact</a></li>
</ul>
</div><!--//top_navlist-->
</div><!--//header-->

<div id="container"><!--container -->
<!-- #content -->
<div id="content">

    <div class="post" id="post-335">
      <h1>Continuous Deployment at outbrain</h1>
      <p class="postmetadata"> </p>
      
      <div class="entry">
        <div class="tweetmeme_button" style="float: right; margin-left: 10px;"><a class="tm_button" rel="&amp;style=normal&amp;b=2" href="index.html"></a></div>
<p>Warning: very long but interesting write-up <img src='../../../../wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> <a href="../../../../wp-content/uploads/2011/01/2009-06-16-why-continuous-deployment.jpg"><img class="size-thumbnail wp-image-350 alignright" title="2009-06-16-why-continuous-deployment" src="../../../../wp-content/uploads/2011/01/2009-06-16-why-continuous-deployment-150x150.jpg" alt="" width="150" height="150" /></a></p>
<p>It gives me great pleasure that the last project I&#8217;ve been working on at <a href="http://www.outbrain.com/">outbrain</a> is one with the potential to speed up product development and is at the frontline of many web companies: <a href="http://www.startuplessonslearned.com/search/label/continuous%20deployment">Continuous Deployment</a>. These are my last days at outbrain (I&#8217;ll share more about where I&#8217;m headed later) and I feel this is the right time to share my learnings about CD.</p>
<h1 style="clear: all;">Background</h1>
<p>For the past few months I&#8217;ve been hard at work on continuous deployment at outbrain. Initial inception of this project started about a year and a half ago when I was starting to get the feel that &#8220;things are moving just too slow&#8221;. Maybe for desktop or other kind of apps a slow dev process is right, but since Outbrain is a web service, it just felt it didn&#8217;t need to be this way (and recently, Google&#8217;s Chrome team have made their <a href="https://docs.google.com/present/view?id=dg63dpc6_4d7vkk6ch&amp;pli=1">release process</a> public which shows that even for desktop apps it can be faster).</p>
<p>What doesn&#8217;t need to be this way? What am I talking about? &#8211; I would implement a feature, write complete unit tests, all went well but then I had to wait. I had to wait for the next release cycle which was usually a few weeks ahead. During this release cycle, QA would go through my new feature or bug fix and sometimes would reject it or just have a different take on my solution. Then, when my head is several weeks older and completely drained elsewhere, I would have to stop the world, fix what needs to be fixed and return to QA, then, if all went well, it would usually take another week or two until the feature is fully public to users, and this is where real feedback starts to show, then I may realize that I&#8217;ve spent 90% of my time on things that don&#8217;t matter. I would constantly switch context between projects and features due to this few-weeks gap between feature development and feature-meets-the-users. Context switches are expensive, even for humans.<br />
Outbrain is not the only company struggling with this. As a matter of fact, at the time, outbrain was one of the luckiest to employ only a few-weeks release cycle, while others employ months, sometimes even a year. Yes, even internet companies, large internet companies, would stall for a whole year before releasing something, been there&#8230;</p>
<p>It was about a year and a half ago that I was starting to poke my manager, hey, why do *I* need to wait in line like the rest of my team? I trust my code, it&#8217;s ready! Does it really make sense for my new cool feature to be bundled with other cool features just because we decided to roll on release cycles? Those features have nothing else to do with each other except for the fact that they were decided to be worked on by two different individuals but roughly at the same timeframe. And worse, why do I need to wait and sync with other features, even if they delay, why do I need to delay my own features which are, again, completely unrelated and don&#8217;t depend on them, just because other features are more heavyweights? And why do I need to rush my heavyweight  feature even when it&#8217;s not yet ready, just to make it on time for a release cycle so that other folks are not delayed? And why do we have to fear the &#8220;release-day&#8221; and eat pizzas for a few days-nights? Releases should be fun, not a nightmare. And as Kent Beck has put it, &#8220;It&#8217;s easy to mistakenly spill a bucket, we should use a hose of features, not carry buckets of them&#8221; (my wording, his idea).</p>
<p>Those kind of thoughts were circling not only my head, and not only outbrain. As a matter of fact, outbrain is a bit (very) late on the continuous deployment train and we&#8217;ve had other companies we were lucky to be learning from. Companies such as <a href="http://eng.wealthfront.com/">WealthFront</a> with my friend <a href="http://www.linkedin.com/in/eishay">Eishay</a>, flickr, etsy and others have successfully implemented their own take on continuous deployment aligned with <a href="http://en.wikipedia.org/wiki/DevOps">devops</a>, which is a different concept but in my mind related. At the beginning, to me it was clear that something is wrong at how we do things, but getting everyone aboard the mission to fix &#8220;it&#8221; was about a year of work&#8230; It&#8217;s not that I had the full solution right up front, admittedly, for the past year I&#8217;ve been experimenting with different ad-hoc solutions, plus, our company, like any other company, had to invest not only in engineering best practices but also in, well&#8230; in its business, so frankly most of the time I was hard at work doing the business and not doing infrastructure. But at some point, after heaving read some inspirational posts from other companies, after having met with a few developers from those companies, it was decided, outbrain is on board for continuous deployment and I was happy to be one of the core drivers of both the decision and the implementation.</p>
<p>Looking back at where we were a year ago (this doesn&#8217;t have to take a year, by the way, I was doing many other things at the same time), I would never want to go back there. Slow and lengthy release cycles, sleepless nights at the point of release, unpredictable release dates and delays beyond your control, all these were not doing good to the good but potentially fragile relationship between product, dev and ops. Add to that a fast growing business with daily firefighting, engineering challenges of ever-growing scale and business direction that isn&#8217;t always clear to a company this age. However, even given all this pain, at that time it wasn&#8217;t always easy to get everyone on board at investing a few months of man hour, completely changing our engineering, QA and operations culture, and doing something that only a few companies in the world had succeeded in, and it was not yet clear that *we* are going to succeed in. As a matter of fact, even today, even though most folks are on board, there&#8217;s still work to do (AKA culture)</p>
<p>When it finally happened, and a formal decision to &#8220;go for it&#8221; was imminent, a few of us were already &#8220;doing it&#8221;.  Doing it meant, first write a whole lot of tests, which is obviously a good practice, regardless of continuous deployment, but is absolutely necessary for a successful continuous deployment scheme, releasing new features or bug fixes right out of trunk, even though the rest of the team was still working in release branches, some of us have just decided that this is silly and we&#8217;re not going to play game, and some limited deployment automation and live systems validation (&#8220;testing production&#8221; rather then testing a staging or test environment). There was still a long way to go but the cultural shift had already begun and and culture is one of the corner stones.</p>
<p>It&#8217;s funny, it seems like with Continuous Deployment, we&#8217;re all getting back to high-school again; a few are &#8220;doing it&#8221;, some even perform well, some only say that they&#8217;re doing it but they really aren&#8217;t and those who don&#8217;t do it, never mention this unless they get asked.</p>
<h1>The Goal</h1>
<p>The goal was to make deployments <strong>easy</strong> and <strong>safe</strong> so that new dev-to-user-feedback loop is as small as possible.</p>
<p>We want to be able to move the product fast, so we don&#8217;t want to spend all day monitoring ongoing deployments or triggering them, we want to spend the time writing features, not fighting fires so we need a robust system that we can depend on. To refine this we&#8217;ve put ourselves to the following list of goals from the continuous deployment system:</p>
<ol>
<li>Easy. One button to rule them all, or one simple commit, or one simple script that you have to fire and forget.</li>
<li>Safe. Things would fail, all the time, that&#8217;s expected. Sometimes it&#8217;s your fault but many times it&#8217;s just the hardware or someone else&#8217;s fault, but either way, you have to deal with it. The goal was for the system to be safe which means that it does everything that&#8217;s in its power to validate that the system is stable, if need be, rollback to a previous version, and alert the heck out of everyone when/if something went wrong.</li>
<li>Automated, as much as possible. Automate DB schemas update, automate monitoring, automate service upgrades, automate infrastructure, automate all. This is a derivative of the first two but worth mentioning.</li>
<li>Be able to deploy <strong>any outbrain service</strong> to <strong>any subset of servers</strong> (choose by staging, all, one DC, two, 50% etc).</li>
</ol>
<h1>The Tech</h1>
<p>With the current system that we&#8217;ve built a developer is able to commit code and soon thereafter his new code is deployed to all production servers and meets users. The developer can choose whether she wants to release to a restricted set of staging servers or to the complete set of all servers. Everything is completely automated, a simple<span style="color: #008000;"> $ svn ci</span> command would start things off and there you go, a few minutes later (sometimes an hour later), depends on the speed of the moving parts, but with absolutely zero manual intervension, the new service is fully deployed to the eyes of the users.</p>
<p>We are still far from the dream-solution we want to have in place, however, I think what we have acomplished so far already enables us iterate significantly faster on the product.</p>
<h2>The Core Components</h2>
<p>The core components, as we&#8217;ve so far determined, are part cultural, part technical, e.g. tools. Some ppl ask me what&#8217;s more important, culture or the tools and I say (and I didn&#8217;t make this up) that culture is more important but tools help make the right culture. For example, if you look at code reviews (we use reviewboard, BTW) then just saying Code reviews are great or Code reviews are obligatory isn&#8217;t going to help when you don&#8217;t have the supporting tools to make code review fun.</p>
<p>The core components are:</p>
<h2>Trunk Stable</h2>
<p>When I was at youtube I was told that everything I commit to trunk may, at any time, possibly 5min later, go live to a few hundreds of millions users. Imagine that. At the time youtube was not employing continuous deployment per-se but the culture was there. Every developer knew that every commit to trunk counts and may be seen by users at any given time, even after the committer has left the office. Usually code pushes went out once a week but there were emergency pushes almost daily. At first a few skepticals thought that this might slow things down, that everyone would be terrified to commit code, but as it turned out, quite the opposite happened, things just moved faster as folks would still commit code regularly to trunk (and with care, as they should) but they did not have to burn so much time on backporting or forward porting to branches, if you&#8217;ve ever used subversion for that then you know what I mean. (of course git makes merges a hell of a lot easier)</p>
<p>At outbrain we&#8217;ve decided to go trunk-only a few months ago. This, together with a well established automated testing culture and with live service validation is one of the main cultural pillars of CD.</p>
<p>Trunk stable means a few things:</p>
<ol>
<li>As the name suggests, trunk should always be stable and ready for production. Needless to say, never commit a code that does not compile, never commit a code that fails automated testing, never commit something you don&#8217;t want users to see. Keep in mind that sometimes even if it&#8217;s not you releasing your service, someone else might.</li>
<li>Everyone works on trunk. There are no release branches (tags are OK), no need to merge code, no need to commit twice.</li>
<li>Commit often, commit small. Never keep your edits more than one day, preferably no more than one hour, always commit them as soon as they are ready. Commits should be as small as possible, the smallest atomic unit (that compiles, passes tests and does not intimidate users).</li>
<li>Use feature flags. If you have code that&#8217;s not ready to see users yet (this sometimes happen although we try to set that to a minimum), then use feature flags to hide your code. A flag can be passed over from a user (internal user) in the URL for example &amp;enableFeatureX=true or set on a service properties file in a staging environment for example. The idea is to use as little as possible feature flags b/c conceptually they are like branches and they make things complicated. As soon as the feature is fully released, remove the flag from the entire source tree to clean up the code.</li>
</ol>
<p>Trunk stable is something many companies do and is not special to continuous deployment neither to outbrain. But this is IMO one of the required steps and a big cultural change towards CD.</p>
<h2>Automated Testing</h2>
<p>This is the second, but actually the most important pillar. Automated testing and testing infrastructure are at the heart of every software organization that respects the profession and far better experts have produced extensive writeups on the subject, so I will refrain from delving into any details here. I will just very shortly describe the motivation and how we use automated testing.</p>
<p>For one, if you release something every 5, 10, 15 or 60 minutes, even once a day, you cannot afford to have someone-in-the-middle, any kind of manual process is unacceptable and will just kill speed of the process. Some things cannot be automoatically tested, for example if you add a new feature you should do your usability homework, but that aside, 99% of the features, bug fixes and code can and should be completely automatically tested. I&#8217;m saying that heavy hearted b/c admittedly at outbrain we do not excel in it. Our tests do not have sufficient coverage nor are they sufficiently reliable (some tests &#8220;randomly&#8221; fail, or even worse, &#8220;randomly&#8221; pass). However, we&#8217;ve decided to embark the CD train nevertheless and fix this technical debt as we go.</p>
<p>Tests need to be fast. If you release every couple of weeks then it doesn&#8217;t hurt anyone that the entire test suite takes 1h to run. If you deploy a few times a day you&#8217;ll be losing your patience and your deployment queue would get overloaded. A few minutes (we are down to 5) would be a reasonable time for a good test cycle.</p>
<h2>Monitoring, self-test and service instrumentation</h2>
<p>We deploy fast, it&#8217;s easy and we deploy many times a day, but we do not deploy recklessly. We want to make sure that during/after deployments the system is stable and it stays stable. We did not make this up, most of the things I&#8217;ve learned again from my friend Eishay at WealthFront.</p>
<p>We instrument the services such that a service call say &#8220;I&#8217;m OK&#8221;. we have a version page which lists all versions of the service&#8217;s libraries, a selftest page which, when invoked runs a list of internal tests (talk to a DB, talk to another service etc) and returns a success status. We need to add a perf page that tells us how&#8217;s the performance looking at the server right now and more instrumentation is welcome.</p>
<p>The deployment tool, right after deploying the new version would check the service&#8217;s selftest page and will continue to the next server in the cluster only if that test passes. We do not have automated rollbacks yet, but this is planned.</p>
<h2>Infrastructure Automation with Chef</h2>
<p>When we set out to do CD there was a preliminary step we had to take &#8211; infrastructure automation. Infrastructure automation is one of the things that will make your ops guys really happy (well, if done right&#8230;). Outbrain is probably the last on the train of infrastructure automation, indeed we were very late to that, but finally we&#8217;re here. I wouldn&#8217;t say it&#8217;s completely required for CD per-se but I would argue that it&#8217;s completely required for any web shop that manages a non-trivial set of services and those shops happen to be the ones that also look at CD, so the correlation is pretty high. Plus there&#8217;s another thing, clulture is here again, if you want your team thinking about constant deployments and always being ready to go live (and actually doing it), you better have your ops team aligned to that as well. Infrastructure automation makes this message clear, in one commit or one button push you have an entire datacenter ready for operatration.</p>
<p>We&#8217;ve looked at a few tools and finally chose <a href="http://opscode.com/chef">Chef</a>. I think <a href="http://www.puppetlabs.com/">Puppet</a> isn&#8217;t bad either but we never gave it a serious try.</p>
<p>I must say that at the beginnig, choosing the tool for infrastructure automation was something that we (and I personally) put a lot of time into, it was a time sink. I was looking for a tool that would do everything, that would automate both infrastructure and application deployments. For example, a tool that would install tomcat and would also install it&#8217;s webapps while at the same time configure its monitoring on <a href="http://www.opennms.org/">opennms</a> (we&#8217;re moving to <a href="http://www.nagios.org/">nagios</a> now). Now, there are some tools that do it, as a matter of fact, most tools that I&#8217;ve seen could do it all, one way or the other, that&#8217;s why it was so confusing b/c they all could do it, but each one had its own nuance and preferences and some were better at infrastructure automation, others were better at application-level deployments and I was looking for the perfect tool that does both. I&#8217;ve looked at <a href="http://opscode.com/chef">Chef</a>, <a href="http://www.cfengine.org/">cfengine</a>, <a href="http://www.puppetlabs.com/">puppet</a>, <a href="http://www.controltier.org/">ControlTier</a> (horrible, sorry), and a few others. Finally I&#8217;ve decided that I&#8217;m going to use two different tools, Chef for infrastructure and Glu for applications.</p>
<h2>Deployments with Glu</h2>
<p><a href="https://github.com/linkedin/glu">Glu</a> is a young tool, not for the faint of heart. Glu was developed at linkedin and was outsources just a few weeks ago. I think outbrain is the first &#8220;customer&#8221; outside of linkedin, that is to judge by the relative number of my posts on the support forum&#8230;</p>
<p>Glu is a deployment tool, conceptually it works somewhat similar to chef or puppet but to me it seemed more convenient as a product deployment tool. With glu and its nice API it&#8217;s easy to create a (json) model that describes your deployment scheme, create an execution plan to update the servers and execute it either in parallel or in sequence. With its API it&#8217;s also possible to create even more complex deployment scenarios such as Exponential or any other that you like.</p>
<p>The following diagram, taken from glu&#8217;s <a href="https://github.com/linkedin/glu/wiki/Overview">overview page</a> describes its core architecture.</p>
<p><a href="../../../../wp-content/uploads/2011/01/agent_overview.png"><img class="size-medium wp-image-345 alignnone" title="agent_overview" src="../../../../wp-content/uploads/2011/01/agent_overview-300x233.png" alt="" width="300" height="233" /></a></p>
<p>Glu requires an agent to be deployed on all of the target hosts and a web console. The agents report their status to a <a href="http://hadoop.apache.org/zookeeper/">zookeeper</a> and the console gets its input both from ZK and from the user/API. The console then lets you Define a Model which tells it which service is deployed where and then execute an update which will install or upgrade the service according to the reports generated by its agents and saved into ZK.</p>
<p>We use both glu&#8217;s API for automated deployments and its web console to monitor its progress or to perform ad-hoc deployments. More on that in the next section.</p>
<h2>Servicisation &#8211; Componentization</h2>
<p>One of the core principles in software development (and math, and chemistry, and&#8230;) is breaking a problem to smaller parts to solve it. No news here, so why do I bother mentioning that?</p>
<p>When you release often you want to make sure that:</p>
<ol>
<li>If you caused a damage, the damage is contained, it&#8217;s the smallest damage possible</li>
<li>If there is an error it&#8217;s easy to find where it is and what caused it. Smaller services and smaller releases make that an easier problem.</li>
<li>If you need a rollback, it&#8217;s easy to do so. The smaller the roll-forward the easier the rollback is.</li>
<li>There&#8217;s always more than one instance of any type of services so that when you take one down the system is still functioning.</li>
</ol>
<p>Breaking your services to small parts makes CD much easier.</p>
<h2>The Deployment Pipeline</h2>
<p>In this section I&#8217;ll describe the system we&#8217;ve built. We don&#8217;t think this is the best of breed and we have like 20 other features or shortcomings we have on our todo list but I thought it&#8217;d still be helpful to read how it works.</p>
<p>What I describe here is just product deployments, not infrastructure automation. Simply, you write your code, test it, then you want users to see it. The assumption is that all databases are already in place, configuration is in place, application servers are in place, all you need to do is deploy new bits.</p>
<p><a href="../../../../wp-content/uploads/2011/01/cd_public.png.jpg"><img class="alignnone size-full wp-image-347" title="cd_public.png" src="../../../../wp-content/uploads/2011/01/cd_public.png.jpg" alt="" width="669" height="694" /></a></p>
<p>Here&#8217;s an explanation of the flow:</p>
<ol>
<li>A developer edits some source files, completes a feature or a bug fix, writes tests and commit with the message &#8220;<span style="color: #008000;">Fixing bug x #deploy:MyService #to:staging</span>&#8221;
<ol>
<li>The <strong>#deploy</strong> has the module name to deploy. It may contain a list of modules, such as #deploy:ImageServer,RecommendationEngine</li>
<li>The <strong>#to</strong> describes a set of tags for the services to be deployed. For example: #to:staging (staging environment) or #to:my_host (just one host, every hosts are tagged with their host name) or #to:ny,asia (deploy to both the NY datacenter and asia datacenter)</li>
</ol>
</li>
<li>When the commit is done a subversion post-commit hook is run and extracts the #to and #deploy parameters from the commit. It discards all commits that don&#8217;t have #deploy and those that do have #deploy are sent to the CI server</li>
<li>The CI server (we use TeamCity, nice UI but a miserable API) builds the module and all modules it depends on (we use maven so dependency management is a breeze) and creates RPMs. RPMs are RedHat/CentOS/Fedora&#8217;s standard packages. RPMs are nice since they let you easily query the host, once its installed for the current version and with the help of yum they make version control easy. When the build passes including all the tests:
<ol>
<li>The RPMs are copied to the yum repositories and</li>
<li>The repositories are asked to rebuild their index.</li>
<li>Then, the last step of the build pings GluFeeder telling it to release the module and sending the #to tags.</li>
</ol>
</li>
<li>GluFeeder is the middleman between Glu and outbrain&#8217;s system. Glu requires a model file which describes each service and its version. After a #deploy a specific module on specific hosts that matches a certain tag needs to get its version updated. GluFeeder does that, it reads glu&#8217;s model file from subversion where we keep it and updates just the parts that need to be updated. GluFeeder follows these steps:
<ol>
<li>Read glu.json model file from subversion, select the nodes that match the modules being #deployed and that match the #to tags selection and updates their version</li>
<li>Commit the file back to subversion</li>
<li>Wait for yum to be ready. Sometimes it takes yum a little while before the RPMs are fully indexed, so GluFeeder would wait that and poll every 30 seconds. A related project is <a href="https://github.com/rantav/yummer">yummer</a></li>
<li>POST the model file to Glu</li>
<li>Tell glu to update all the new modules that were just posted.</li>
<li>Post an update to <a href="http://yammer.com/">yammer</a> to let everyone know that a release is in process</li>
</ol>
</li>
<li>Glu now takes command and starts a sequential release to all the nodes that need to be updated. This is the last step in the process and if it was successful the release is done.
<ol>
<li>Glu&#8217;s agents install the new RPMs which in most cases contain a WAR file and restart the tomcat web server.</li>
<li>They then wait for tomcat to be ready (polling) and check the new app&#8217;s version page to make sure that it was property deployed and that the context was brought up</li>
<li>They then access the self-test URL to make sure that the service is well functioning.</li>
<li>When all tests passed an agent is done so it tells the glu console that it&#8217;s finished successfully and the console continues to the next. If one of the tests would fail, the deployment immediately stops.</li>
<li>An agent would also set a timer to test the self-test every 5 minutes from now on so that we know that the service is still alive.</li>
</ol>
</li>
</ol>
<p>The first thing to note is that We Are Not Done. As a matter of fact, outbrain has just started. The current system is still pretty much barebones and there are numerous improvements and plenty of love it still deserves. Like any web product, this product is not done and will probably be never done, unless it&#8217;s dead&#8230; However, it does give us a pretty good start since now there&#8217;s a framework, the basic features are there and the deployments are already *so much easier*.</p>
<p>This whole process takes a variable amount of time, something between 10 minutes to 1 hour. The reason for most of the delays is the size of the RPM files and their transfer time. They are about 70M, and their size is mostly influenced by the large number of 3rd party jar files embedded in the WAR. This doesn&#8217;t have to be this way and we need to fix it. There are a few possible fixes and we will probably use a combination of all of them, one is just remove all the unneeded dependencies, another is better componentization. But by far the most effective way is to copy only what we need to copy, do not include all the 3rd party or even outbrain&#8217;s own jars if they haven&#8217;t changed. This is possible and can be embedded in the RPM script,  but it&#8217;s out of scope for this writeup.</p>
<p>Another place for improvement is the build time and quality. Our tests run much too long, they don&#8217;t have enough coverage and they sometimes fail &#8220;randomly&#8221;, e.g. depending on some external unclean state such as a database. As a matter of fact the mere fact that they actually use a database is a pain, not to mention that it causes slowness and severely degrades reliability. There&#8217;s much work to do on the testing front.</p>
<p>We would like glu to tell us if/when something went wrong with a deployment. We want bells to ring and alarms to go off. Currently to the best of my knowledge there is a way to do this through glu&#8217;s (nice) API, we just didn&#8217;t do it yet. It&#8217;d also be nice if glu supported something like that out of the box. (feature request was posted)</p>
<p>What we did not implement yet is a service publishing mechanism whereby a service, when it goes down would unpublish itself  by telling its users (other internal services) that it&#8217;s going down and then republish itself when going back up. Currently we use a load balancer for that (HAProxy) which sort of makes this work. The proxy would know that if a certain box gives too many errors it needs to go out of the pool but the downside of that is that, first, there will be errors and you&#8217;d get dirty logs and perhaps some suffering users b/c at least the first request would be erroneous and second, it takes some time for the proxy to take action. This can be improved by synchronous  service publishing whereby a service announces itself as up/down in a shared storage such as zookeeper (and of course that&#8217;s not the only way).</p>
<p>Reliability wise we can do a lot more. We use the self-test hook which is a good start but there&#8217;s so much more that can be done. For example, since we already have a client on each host then it&#8217;s relatively easy to monitor the logs and search for ERRORs of Exceptions. Another thing we ought to do is monitor the KPIs (Key Performance Indicators) in an automated way so that we know that if a certain release has degraded the quality of our serving then we need to roll it back. and figure out a fix for that.</p>
<p>Automated rollbacks is also something we did not do yet. Glu does not support this out of the box (feature request submitted), but it can be done with its API. Currently, to roll back a release takes a few mouse clicks so it&#8217;s not that hard which is a good thing but it would even be nicer if a complete and atomic plan existed in glu such that if a release breaks in the middle then an automated rollback is employed.</p>
<p>Overall, even with all the points we&#8217;ve written down for improvement, we&#8217;re very happy with the system as it is right now since streamlines the deployment process, saves a lot of developer time and makes it much more robust than it used to be.</p>
<script type='text/javascript'>
		<!--
		//OBSTART:do_NOT_remove_this_comment
		var OutbrainPermaLink="index.html";
		if(typeof(OB_Script)!='undefined'){OutbrainStart();} else {
		var OB_PlugInVer="7.0.0.0_Regular";;var OB_raterMode="stars";var OB_recMode="rec";var OBITm="1263219542";var OB_Script=true;var OB_langJS="";document.write(unescape("%3Cscript src='http://widgets.outbrain.com/OutbrainRater.js' type='text/javascript'%3E%3C/script%3E"));}
		//OBEND:do_NOT_remove_this_comment
		//-->
		</script>
		      </div>
      <p class="postmetadata2">Published in <a href="../../../../category/uncategorized/index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a><!-- by <php the_author(); ?> -->, January 24th, 2011 <br />
      	</p>
    </div>
    
	<!--
	<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://prettyprint.me/2011/01/24/continuous-deployment-at-outbrain/"
    dc:identifier="http://prettyprint.me/2011/01/24/continuous-deployment-at-outbrain/"
    dc:title="Continuous Deployment at outbrain"
    trackback:ping="http://prettyprint.me/2011/01/24/continuous-deployment-at-outbrain/trackback/" />
</rdf:RDF>	-->

  
<!-- You can start editing here. -->

<div class="boxcomments">




	<h2 id="comments">17 Responses to &#8220;Continuous Deployment at outbrain&#8221;</h2>

	<ol class="commentlist">
	
		
<li class="odd" id="comment-5586">

			
        <p>So&#8230; where are you heading?</p>
<p>great post!</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/d5fbc7e8416f4da77626a4df75071d9b?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ori Harel</strong> on <a href="#comment-5586" title="">Jan 24, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-5588">

			
        <p>I&#8217;ll tell when I&#8217;m ready&#8230; and thanks</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-5588" title="">Jan 24, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-5595">

			
        <p>very impressive work.<br />
I totally agree that with the Servicisation – Componentization approach, I all see its advantages, and<br />
Assuming that there are (some) dependencies between services, rolling back one service requires rolling back of other services as well.<br />
So in that aspect, having less components would ease the rolling back tasks.</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/908e6d205cd6aaabca8939a96cf49a2b?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://thoughtstostring.wordpress.com/' rel='external nofollow' class='url'>Yonatan Maman</a></strong> on <a href="#comment-5595" title="">Jan 25, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-5601">

			
        <p>@yonatan &#8211; you are right that if there are non backward or forward compatible changes b/w services then rolling back soon becomes hell. But this is true not only for services, it&#8217;s true for the data layer (&#8220;database&#8221;) as well.<br />
One of the concepts with stable trunk which I admit I did not cover is of full backward and forward compatibility. It can be achieved in several ways, but if all fails then service versioning can help.<br />
If borders b/w services are put in the right place it&#8217;s easier to maintain this fw/bw compatibility.</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-5601" title="">Jan 25, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-5605">

			
        <p>Hey Ran</p>
<p>Thanks for the post it is very useful. I cannot believe how close your story is to LinkedIn&#8217;s story! And it is very impressive how much progress you have made. That is just great.</p>
<p>Out of curiosity you mention that ControlTier is horrible, can you shed some light on this comment ?</p>
<p>Thanks<br />
Yan</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/da62100c7063bc0669188d8293ac704b?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://www.pongasoft.com/blog/yan/' rel='external nofollow' class='url'>Yan Pujante</a></strong> on <a href="#comment-5605" title="">Jan 25, 2011</a> </p>
        	
        
	</li>
		
		
			
<li class="mycomment" id="comment-5610">

			
        <p>Hi Yan, I suppose this is the story for most of nowdays web shops&#8230; thanks for the comment.<br />
Regarding ControlTier, my lack of fondness to it could be attributed to the subjective point that it was the first tool in the category that I used and I may have been overwhelmed by its complexity.<br />
However, IMHO there are a few points that are less subjective and that were deal breakers for me, some of which are business and some are engineerish.<br />
1. The tool is complex. I&#8217;ve absorbed complex systems in my life, and certainly CT was one I was willing to give a push for, but I have to admit that the more I learned it, the more I wondered, does this really have to be so complex? It looks like it&#8217;s trying to do everything, but in a mediocre way, doesn&#8217;t excel in any of the things that it does. This is half subjective, I know, but I heard the same opinion from other folks that have worked with it in the past. As a matter of fact, a friend that had worked with CT for 2 years has strongly recommended that since I&#8217;m starting fresh, to stay away from CT. That alone should do&#8230;<br />
2. Documentation sucked&#8230; at the time I got introduced to CT (3-4 months ago) I think CT was in the process of advancing its version of the APIs in a way that was not backward compatible. So on the wiki you&#8217;d see one version, on the users list they tell me to not look at the wiki since its outdated and I was left figuring out myself what needs to go where. I&#8217;ve spent about two weeks studying the tool and at the end I was able to accomplish my goal but the feeling was just not right and I did not want to be the guy that everybody hates at outbrain for bringing CT to them&#8230;<br />
3. I didn&#8217;t like the support model. The company, DTO Solutions, is a consultancy to the best of my understanding. The live off of consulting for CT and perhaps other products. That&#8217;s fine as long as you don&#8217;t need to depend on them but since the tool was complex and the API was a moving target and the documentation was out of sync I was left with no other choice but to get consulting or ditch it. Now, most companies that do open-source plus consulting as a business model have this tension b/w the quality of the documentation/forum and other types of free support and their main source of revenue &#8211; consulting. Some companies deal with it in a transparent and IMO fair way but I was not getting this vibe from DTO. Their prices were sky-high for my startup and the free support was just not good enough. I was able to find one consultant in israel which I spoke to on the phone for several hours and at the end I realized he was more clueless than I was.</p>
<p>The bottom line is, perhaps if I gave CT another look today I&#8217;d be more ready for it and be able to use it properly but at the time, after having decided to ditch CT and move over to Chef plus a homegrown solution (which at the end of the day used Glu) it was such a relief not having to use CT that chef+glu are just pure joy <img src='../../../../wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-5610" title="">Jan 25, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-5681">

			
        <p>Thanks a lot for the explanation about Control Tier. I think I understand now. And I love your comment: &#8216;chef+glu are a pure joy&#8217; <img src='../../../../wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Yan</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/da62100c7063bc0669188d8293ac704b?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://www.pongasoft.com/blog/yan/' rel='external nofollow' class='url'>Yan Pujante</a></strong> on <a href="#comment-5681" title="">Jan 29, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-5688">

			
        <p>I was trying to dig into the component Glu that you mentioned, and GluFeeder, but the only references I find to it are on this blog. Is that something that you developed internally at your company, or something available externally that I&#8217;m just having trouble finding?</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/cb09f569d2572bd00baec8da68a88201?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://www.rhonabwy.com/wp/' rel='external nofollow' class='url'>Joe</a></strong> on <a href="#comment-5688" title="">Jan 30, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-5697">

			
        <p>@Joe glu was open sourced by linkedin at <a href="https://github.com/linkedin/glu" rel="nofollow">https://github.com/linkedin/glu</a></p>
<p>GluFeeder is a component we wrote at outbrain and was not open sourced. It&#8217;s used to gap the bridge b/w what glu understands and knows how to do and some internal build and configuration details we have at outbrain. It was not generic enough to be open sourced.</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-5697" title="">Jan 30, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-5800">

			
        <p>Thanks, great post.</p>
<p>My shop is just starting to figure out how to get from our batch style dev to where you guys are today.</p>
<p>Do you find using SVN limits where you can go with CD?</p>
<p>I&#8217;m interested in how your post-commit process extracts commit messages that contain #deploy. Are you picking out revisions (since the last deploy) and then merging changesets to a deployment branch?</p>
<p>&#8220;When the commit is done a subversion post-commit hook is run and extracts the #to and #deploy parameters from the commit. It discards all commits that don’t have #deploy and those that do have #deploy are sent to the CI server&#8221;</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/3074e564b748502278ba256fd17bfc8d?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Jim Frantzen</strong> on <a href="#comment-5800" title="">Feb 4, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-5806">

			
        <p>Although I&#8217;m personally a big fan of git, from the perspective of CD SVN was not limiting.<br />
We use trunk and trunk only so there&#8217;s no need to merge commits to a branch. When we worked in batch-mode then we did use release branches but now with CD there are no branches at all, everything goes straight to trunk and trunk is always stable and ready to go live. It sounds frightening at the beginning but if you have good test coverage then it actually becomes much more convenient and even safer than branching and merging (admit it &#8211; merging in SVN isn&#8217;t fun&#8230;).<br />
The post commit hook simply looks at the commit message and if it has a #deploy then it pings the CI server to start a release build. If you want to look at the code, it&#8217;s published here <a href="https://gist.github.com/810823" rel="nofollow">https://gist.github.com/810823</a></p>
<p>Good luck.</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-5806" title="">Feb 4, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-5826">

			
        <p>Great post!</p>
<p>My team has recently decided that monthly big-ball-of-mud releases weren&#8217;t working for us and developed a simple CD pipeline using TeamCity, shell scripts, and maven. It makes development pure joy. </p>
<p>We&#8217;re now applying this approach to other projects and gradually winning hearts over to this process. I expect that once developers get used to having their code automatically tested and deployed, they will never go back to manual releases. This is an awesome paradigm shift!</p>
<p>-Jamie</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/11f4b726374e024ba9c51fa7aabe62e2?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://bigsoftwareadventure.wordpress.com/' rel='external nofollow' class='url'>Jamie</a></strong> on <a href="#comment-5826" title="">Feb 5, 2011</a> </p>
        	
        
	</li>
		
		
			
<li class="odd" id="comment-7980">

			
        <p>&#8220;They are about 70M, and their size is mostly influenced by the large number of 3rd party jar files embedded in the WAR.&#8221;</p>
<p>you should try the presto plugin for yum.</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/d028babd1966860b7329f63d096a8093?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://www.sunchangming.com/' rel='external nofollow' class='url'>Changming Sun</a></strong> on <a href="#comment-7980" title="">May 16, 2011</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-7981">

			
        <p>Actually I have improved on that already (the size of the RPM is now 2M on average). But I&#8217;ll look at presto, sounds interesting</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-7981" title="">May 16, 2011</a> </p>
        	
        
	</li>
		
		
			
	</ol>
	
	

	<h2 id="trackbacks">3 Trackback(s)</h2>
	
	<ol class="tblist">
	

	<li id="comment-5608">
		Jan 25, 2011: <a href='http://topsy.com/prettyprint.me/2011/01/24/continuous-deployment-at-outbrain/?utm_source=pingback&amp;utm_campaign=L2' rel='external nofollow' class='url'>Tweets that mention Continuous Deployment at outbrain | PrettyPrint.me -- Topsy.com</a>			</li>
	
		

	<li id="comment-7513">
		Apr 25, 2011: <a href='http://www.hachisvertas.net/blog/01/2011/04/25/desde-la-integracion-continua-hasta-despligues-continuos-en-software' rel='external nofollow' class='url'>Desde la Integración continua hasta Despligues continuos en Software | Lycka Bonita</a>			</li>
	
		

	<li id="comment-8281">
		May 28, 2011: <a href='http://hop2croft.wordpress.com/2011/05/28/some-helpful-links-to-continuous-deployment/' rel='external nofollow' class='url'>Some helpful links to Continuous deployment &laquo; hop2croft&#039;s software development Blog</a>			</li>
	
		

	</ol>

	

	<p id="comments-closed">Sorry, comments for this entry are closed at this time.</p>
</div>  
 
 
</div><!-- //content -->

<div id="sidebar"><!-- sidebar -->

<p class="rssfeed"><a class="rsslink" href="../../../../feed/index.html"></a>
<p><a href="http://feeds2.feedburner.com/PrettyPrintMe"><img src="http://feeds2.feedburner.com/~fc/PrettyPrintMe?bg=3069B0&amp;fg=fffdfa&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a></p>
</p>

<h2>Search</h2>
<form method="get" id="searchform" class="search" action="http://prettyprint.me/">
<input type="text" name="s" value="Type keywords and hit enter..." onfocus="if (this.value == 'Type keywords and hit enter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Type keywords and hit enter...';}" />
</form>

<!--
<h2>Categories</h2>
<ul>
		<li class="cat-item cat-item-1"><a href="http://prettyprint.me/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
</ul>
-->

<h2>Blog Archives</h2>
<ul>
  	<li><a href='../../../07/index.html' title='July 2011'>July 2011</a></li>
	<li><a href='../../../02/index.html' title='February 2011'>February 2011</a></li>
	<li><a href='../../index.html' title='January 2011'>January 2011</a></li>
	<li><a href='../../../../2010/08/index.html' title='August 2010'>August 2010</a></li>
	<li><a href='../../../../2010/05/index.html' title='May 2010'>May 2010</a></li>
	<li><a href='../../../../2010/04/index.html' title='April 2010'>April 2010</a></li>
	<li><a href='../../../../2010/03/index.html' title='March 2010'>March 2010</a></li>
	<li><a href='../../../../2010/02/index.html' title='February 2010'>February 2010</a></li>
	<li><a href='../../../../2010/01/index.html' title='January 2010'>January 2010</a></li>
	<li><a href='../../../../2009/11/index.html' title='November 2009'>November 2009</a></li>
	<li><a href='../../../../2009/10/index.html' title='October 2009'>October 2009</a></li>
	<li><a href='../../../../2009/09/index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../../../2009/08/index.html' title='August 2009'>August 2009</a></li>
	<li><a href='../../../../2009/06/index.html' title='June 2009'>June 2009</a></li>
	<li><a href='../../../../2009/05/index.html' title='May 2009'>May 2009</a></li>
</ul>

<!--
<h2>Links</h2>
<ul>
  <li><a href="http://wordpress.org/development/">Development Blog</a></li>
<li><a href="http://codex.wordpress.org/">Documentation</a></li>
<li><a href="http://wordpress.org/extend/plugins/">Plugins</a></li>
<li><a href="http://wordpress.org/extend/ideas/">Suggest Ideas</a></li>
<li><a href="http://wordpress.org/support/">Support Forum</a></li>
<li><a href="http://wordpress.org/extend/themes/">Themes</a></li>
<li><a href="http://planet.wordpress.org/">WordPress Planet</a></li>
</ul>
-->

<!--
<h2>Meta</h2>
<ul>
    <li><a href="http://prettyprint.me/wp-login.php">Log in</a></li>
  <li><a href="http://www.wordpress.org/">WordPress</a></li>
    <li><a href="http://validator.w3.org/check?uri=referer">XHTML</a></li>
</ul>
-->

 


</div> <!--//sidebar  -->

</div><!--//container-->

<div id="footer-container">
	
<div id="footer">

<div id="footerleft">
		<h2>About</h2>
  <p>Restrospective focuses on clean typography and modern colors and design.</p>
  </div>

<div id="footermid">
		<h2>Profiles, Links</h2>
	<ul>
  	<li><a href="http://www.linkedin.com/in/rantav">LinkedIn</a></li>
  	<li><a href="http://tavory.com/">Homepage</a></li>
  	<li><a href="http://twitter.com/rantav">Twitter</a></li>
  	<li><a href="http://reversim.com/">(Hebrew podcast I run) רברס עם פלטפורמה</a></li>
  	<li><a href="http://friendfeed.com/rantav">FriendFeed</a></li>
  	<li><a href="http://gbsheli.com/">Google Blog Sheli (my older blog, mostly Hebrew)</a></li>
  	<li><a href="http://www.facebook.com/people/Ran-Tavory/543122173">Facebook</a></li>
  </ul>
  </div>

<div id="footerright">
	<!--
	<h2>Recent Readers</h2>
-->
  <!--	Paste JavaScript from MyBlogLog or other services -->

  </div>

</div><!--//footer-->

<div class="copyright">
	Copyright &copy; <a href="../../../../index.html">PrettyPrint.me</a> &middot; All rights reserved.<br />
	
	Powered by <a href="http://wordpress.org/">WordPress</a> and <a href="http://blogbuildingu.com/retrospective">Retrospective theme</a> &middot; Design & code by <a href="http://blogbuildingu.com/">Hendry Lee</a>.

<script type='text/javascript' src='../../../../wp-content/plugins/contact-form-7/jquery.formd20f.js?ver=2.52'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/contact-form-7/scripts747d.js?ver=2.4.5'></script>
<script src="../../../../wp-content/plugins/tweetmeme/button.js" type="text/javascript"></script></div>

</div><!--//footer-container-->

</body>

<!-- Mirrored from prettyprint.me/2011/01/24/continuous-deployment-at-outbrain/ by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 28 Dec 2012 23:00:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
