<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<title>Load balancing and improved failover in Hector | PrettyPrint.me</title>
<meta name="generator" content="WordPress 3.2" /> <!-- leave this for stats -->
<link rel="alternate" type="application/rss+xml" title="PrettyPrint.me RSS Feed" href="../../../../feed/index.html" />
<link rel="pingback" href="../../../../xmlrpc.php" />
<link rel="stylesheet" type="text/css" media="all" href="../../../../wp-content/themes/retrospective/style.css" />
<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" media="all" href="http://prettyprint.me/wp-content/themes/retrospective/ie.css" />
<![endif]-->
<!--[if lte IE 6]>
	<link rel="stylesheet" type="text/css" media="all" href="http://prettyprint.me/wp-content/themes/retrospective/ie6.css" />
<![endif]--> 
<meta name="verify-v1" content="iFkC+FAFtOQ601MZ4pU4juKjv2UEYbdQNeezoVgCUyE=" >
<link rel="alternate" type="application/rss+xml" title="PrettyPrint.me &raquo; Load balancing and improved failover in Hector Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='contact-form-7-css'  href='../../../../wp-content/plugins/contact-form-7/styles747d.css?ver=2.4.5' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/l10na17a.js?ver=20101110'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery51a2.js?ver=1.6.1'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/google-analyticator/external-tracking.min6fb3.js?ver=6.1.3'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='PrettyPrint.me' href='../../../../index.html' />
<link rel='start' title='Hello Pretty World' href='../../../../2009/05/17/hello-pretty-world/index.html' />
<link rel='prev' title='Hector &#8211; a Java Cassandra client' href='../../../02/23/hector-a-java-cassandra-client/index.html' />
<link rel='next' title='JMX in Hector' href='../../../04/03/jmx-in-hector/index.html' />
<meta name="generator" content="WordPress 3.2" />
<link rel='shortlink' href='../../../../index1641.html?p=278' />

<!-- All in One SEO Pack 1.6.13.3 by Michael Torbert of Semper Fi Web Design[209,264] -->
<meta name="description" content="I've added a very simple load balancing feature, as well as improved failover behavior to Hector. Hector is a Java Cassandra client, to read more about it" />
<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<meta name="tweetmeme-title" content="Load balancing and improved failover in Hector" />
<link rel="stylesheet" href="../../../../wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen" />
<!-- Google Analytics Tracking by Google Analyticator 6.1.3: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2694026-6']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body>
<div id="header">
<a href="../../../../index.html" title="PrettyPrint.me">
<div id="logo">
<p>by Ran Tavory</p>
</div>
</a>
<div id="top_navlist">
<ul id="navlist">
<li class="page_item page-item-213"><a href="../../../../about-2/index.html" title="About.me">About.me</a></li>
<li class="page_item page-item-368"><a href="../../../../contact/index.html" title="Contact">Contact</a></li>
</ul>
</div><!--//top_navlist-->
</div><!--//header-->

<div id="container"><!--container -->
<!-- #content -->
<div id="content">

    <div class="post" id="post-278">
      <h1>Load balancing and improved failover in Hector</h1>
      <p class="postmetadata"> </p>
      
      <div class="entry">
        <div class="tweetmeme_button" style="float: right; margin-left: 10px;"><a class="tm_button" rel="&amp;style=normal&amp;b=2" href="index.html"></a></div>
<p><img class="size-thumbnail wp-image-279 alignleft" title="Balance the load" src="../../../../wp-content/uploads/2010/03/load_balance-150x150.jpg" alt="Balance the load, woman!" width="150" height="150" /></p>
<p>I&#8217;ve added a very simple load balancing feature, as well as improved failover behavior to <a href="http://github.com/rantav/hector">Hector</a>. Hector is a Java Cassandra client, to read more about it please see my previous post <a href="../../../02/23/hector-a-java-cassandra-client/comment-page-1/index.html">Hector – a Java Cassandra client</a>.</p>
<p>In <a href="http://github.com/downloads/rantav/hector/hector-0.5.0-6.jar">version 0.5.0-6</a> I added poor-man&#8217;s load balancing as well as improved failover behavior.</p>
<p>The interface <a href="http://github.com/rantav/hector/blob/master/src/main/java/me/prettyprint/cassandra/service/CassandraClientPool.java">CassandraClientPool</a> used to have this method for obtaining clients:</p>

<div class="wp_syntax"><div class="code"><pre class="java" style="font-family:monospace;"><span style="color: #008000; font-style: italic; font-weight: bold;">/**
 * Borrows a client from the pool defined by url:port
 * @param url
 * @param port
 * @return
 */</span>
CassandraClient borrowClient<span style="color: #009900;">&#40;</span><span style="color: #003399;">String</span> url, <span style="color: #000066; font-weight: bold;">int</span> port<span style="color: #009900;">&#41;</span>
    <span style="color: #000000; font-weight: bold;">throws</span> <span style="color: #003399;">IllegalStateException</span>, PoolExhaustedException, <span style="color: #003399;">Exception</span><span style="color: #339933;">;</span></pre></div></div>

<p>Now with the added LB and failover it has:</p>

<div class="wp_syntax"><div class="code"><pre class="java" style="font-family:monospace;"><span style="color: #008000; font-style: italic; font-weight: bold;">/**
 * Borrow a load-balanced client, a random client from the array of given client addresses.
 *
 * This method is typically used to allow load balancing b/w the list of given client URLs. The
 * method will return a random client from the array of the given url:port pairs.
 * The method will try connecting each host in the list and will only stop when there's one
 * successful connection, so in that sense it's also useful for failover.
 *
 * @param clientUrls An array of &quot;url:port&quot; cassandra client addresses.
 *
 * @return A randomly chosen client from the array of clientUrls.
 * @throws Exception
 */</span>
CassandraClient borrowClient<span style="color: #009900;">&#40;</span><span style="color: #003399;">String</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> clientUrls<span style="color: #009900;">&#41;</span> <span style="color: #000000; font-weight: bold;">throws</span> <span style="color: #003399;">Exception</span><span style="color: #339933;">;</span></pre></div></div>

<p>And usage looks like that:</p>

<div class="wp_syntax"><div class="code"><pre class="java" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// Get a connection to any of the hosts cas1, ca2 or cas3</span>
CassandraClient client <span style="color: #339933;">=</span> pool.<span style="color: #006633;">borrowClient</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> <span style="color: #003399;">String</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #009900;">&#123;</span><span style="color: #0000ff;">&quot;cas1:9160&quot;</span>, <span style="color: #0000ff;">&quot;cas2:9160&quot;</span>, <span style="color: #0000ff;">&quot;cas3:9160&quot;</span><span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></div>

<p>So, when calling borrowClient(String[]) the method randomly chooses any of the clients in the array and connects to it. That&#8217;s what I call poor man&#8217;s load balancing, just plain dumb random, not real load balancing. By all means, true load balancing which takes into account performance measurements such as response time and throughput is infinitely better than the plain random selection I&#8217;m employing here and in my opinion should be left out for your ops folks to deal with and not to the program, however, if you only need a very simplistic approach of random selection, then this method may suite your needs.</p>
<p>A nice side effect of using this method is <strong>improved failover</strong>. In previous versions hector implemented failover, but in order to find out about the ring structure it had to connect to at least one host in the ring first and query it to learn about the rest. The result was that if a new connection is made and it&#8217;s so unfortunate that this new connections is made to unavailable host, then this new client cannot connect to the host to learn about other live hosts so it fails right away. With this new method which sends an array of hosts the client keeps connecting to hosts in the list in random order until it finds one that&#8217;s up. In the example above the client may choose to connect to cas2 first; if cas2 is down it&#8217;ll try to connect to (say) cas3 and if cas3 is also down it&#8217;ll try to connect to cas1; only if all three hosts are down will it give up and return an error. Failing to connect to hosts is considered an error, but a recoverable error, so it&#8217;s transparent to the client of hector but is reported to JMX and has its own special counter (RecoverableLoadBalancedConnectErrors).</p>
<script type='text/javascript'>
		<!--
		//OBSTART:do_NOT_remove_this_comment
		var OutbrainPermaLink="index.html";
		if(typeof(OB_Script)!='undefined'){OutbrainStart();} else {
		var OB_PlugInVer="7.0.0.0_Regular";;var OB_raterMode="stars";var OB_recMode="rec";var OBITm="1263219542";var OB_Script=true;var OB_langJS="";document.write(unescape("%3Cscript src='http://widgets.outbrain.com/OutbrainRater.js' type='text/javascript'%3E%3C/script%3E"));}
		//OBEND:do_NOT_remove_this_comment
		//-->
		</script>
		      </div>
      <p class="postmetadata2">Published in <a href="../../../../category/uncategorized/index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a><!-- by <php the_author(); ?> -->, March 3rd, 2010 <br />
      	</p>
    </div>
    
	<!--
	<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://prettyprint.me/2010/03/03/load-balancing-and-improved-failover-in-hector/"
    dc:identifier="http://prettyprint.me/2010/03/03/load-balancing-and-improved-failover-in-hector/"
    dc:title="Load balancing and improved failover in Hector"
    trackback:ping="http://prettyprint.me/2010/03/03/load-balancing-and-improved-failover-in-hector/trackback/" />
</rdf:RDF>	-->

  
<!-- You can start editing here. -->

<div class="boxcomments">




	<h2 id="comments">17 Responses to &#8220;Load balancing and improved failover in Hector&#8221;</h2>

	<ol class="commentlist">
	
		
<li class="odd" id="comment-366">

			
        <p>Hi,<br />
Thank you for this cool library.<br />
Is there a cassandra 6.0 rc version plan ?</p>
<p>Best Regards,</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/5bbbdc4ce49565a0e9dce8b3f1f34ff2?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>SI</strong> on <a href="#comment-366" title="">Mar 9, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-367">

			
        <p>Some folks started to work on it (not me personally), but I don&#8217;t have ETA yet</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-367" title="">Mar 10, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-453">

			
        <p>Hi.<br />
Can you prototype very simple example how to reading all the keys or better range of keys with Hector?!</p>
<p>I&#8217;m at very begging.</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/76c9da7d600b7f6e6702fb5dde48f8ad?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Andrey</strong> on <a href="#comment-453" title="">Mar 24, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-454">

			
        <p>Well, that would require some time, which I don&#8217;t have, but there is something very close to that at the test file <a href="http://github.com/rantav/hector/blob/master/src/test/java/me/prettyprint/cassandra/service/KeyspaceTest.java" rel="nofollow">http://github.com/rantav/hector/blob/master/src/test/java/me/prettyprint/cassandra/service/KeyspaceTest.java</a></p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-454" title="">Mar 24, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-459">

			
        <p>Thanks <img src='../../../../wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /><br />
At the end it was helpful!</p>
<p>For hector v0.6 it can looks like this:</p>
<p>            ColumnParent cp = new ColumnParent(&#8220;Standard1&#8243;);<br />
            SlicePredicate sp = new SlicePredicate();<br />
            SliceRange range = new SliceRange();<br />
            range.setStart(new byte[0]);<br />
            range.setFinish(new byte[0]);<br />
            sp.setSlice_range(range);</p>
<p>            Map&lt;String, List&gt; map = ks.getRangeSlice(cp, sp, &#8220;&#8221;, &#8220;&#8221;, 5);<br />
            for (String s : map.keySet()) {<br />
                List columns = map.get(s);<br />
                System.out.println(s);<br />
                for (Column column : columns) {<br />
                    System.out.println(&#8220;\t&#8221; + new String(column.getName()) + &#8220;\t&gt;&gt;\t&#8221; + new String(column.getValue()));<br />
                }<br />
            }</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/76c9da7d600b7f6e6702fb5dde48f8ad?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Andrey</strong> on <a href="#comment-459" title="">Mar 25, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-608">

			
        <p>How would I specify my own maxActive, maxIdle numbers (that are inside package private CassandraClientPoolByHostImpl)?</p>
<p>CassandraClientPool pool = CassandraClientPoolFactory.INSTANCE.get();</p>
<p>I get the pool above, but with default maxActives..</p>
<p>I am using 0.6.0-10</p>
<p>Thank you</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/0a1413de7641eed18c2b08e2df961b34?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>tc</strong> on <a href="#comment-608" title="">Apr 17, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-617">

			
        <p>@tc see CassandraClientPoolFactory.createNew(CassandraHostConfigurator cassandraHostConfigurator)</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-617" title="">Apr 17, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-618">

			
        <p>thanx Ran .. The problem is, even though I can browse the src on your website to find CassandraHostConfigurator, it is missing in the download for 0.6.0-10.  Also the CassandraClientPoolFactory only has a createNew()  method instead of a createNew(CassandraHostConfigurator config).</p>
<p>I guess the modification wasn&#8217;t made at the time of building the jar for download.  Could you please update the download?</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/0a1413de7641eed18c2b08e2df961b34?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>tc</strong> on <a href="#comment-618" title="">Apr 17, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-627">

			
        <p>@hc let me look into that, but in the mean time, do you mind taking the discussion to <a href="mailto:hector-users@googlegroups.com">hector-users@googlegroups.com</a> for the benefit of all?</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-627" title="">Apr 18, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-629">

			
        <p>you got it. Done.</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/0a1413de7641eed18c2b08e2df961b34?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>tc</strong> on <a href="#comment-629" title="">Apr 18, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-792">

			
        <p>Hello Ran,</p>
<p>1) Can you provide a solution or a sample for searching (Column and SuperColumn) (Fulltext). What is the Way to realize this? Hadoop/MapReduce? See you a posibility to build/use a index for columns?</p>
<p>2) How can be realized a &#8220;relation&#8221; For Sample: (<a href="http://arin.me/blog/wtf-is-a-supercolumn-cassandra-data-model" rel="nofollow">http://arin.me/blog/wtf-is-a-supercolumn-cassandra-data-model</a>) Arin describes good a simple Data-Model to build a Blog. But how can we read (filter) all Posts from &#8220;BlogEntries&#8221; from a single Autor? (filter the Supercolumns by a culum inside of a SuperColumn)</p>
<p>The &#8220;relation&#8221; for Sample is Autor -&gt; BlogEntries&#8230;</p>
<p>To filter the Datas there is a needing to specify in a &#8220;get&#8221; a Key OR a Column/Value combination&#8230;</p>
<p>Thanks in Advance! &#8211; and thx for Hector! We love it&#8230;<br />
With Hector i build a (Apache)Cocoon-Transformer. </p>
<p>With kind regards,<br />
Falk</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/24bab048ac907c9aeb4fb372af8cc12e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Falk Wolsky</strong> on <a href="#comment-792" title="">May 2, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-793">

			
        <p>Hi @Falk, this is an excellent question to user@cassandra</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-793" title="">May 2, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="odd" id="comment-821">

			
        <p>Hello Ran,</p>
<p>hmm. the answer on this List was &#8220;not so good&#8221;&#8230; <img src='../../../../wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /><br />
I Think, Lucandra can be a good point to start indexing and Text-Search. I have to evaluate this.. </p>
<p>Ok. Please let us focus to the relation question:<br />
(Sample Data-Model from Arin)</p>
<p>BlogEntries : {<br />
 i-got-a-new-guitar : { // row key<br />
  title: This is a blog entry about my new, awesome guitar,<br />
  body: this is a cool entry. etc etc yada yada<br />
  author: Arin Sarkissian  // a row key into the Authors CF<br />
 }<br />
}</p>
<p>Now, the question is: See you any possibility to build a &#8220;get&#8221; Function with it i can find all &#8220;BlogEntries&#8221; from a &#8220;named&#8221; autor?</p>
<p>For sample:<br />
ks.getColumn(search,key,ColumnPath); (simplified)<br />
&#8220;search&#8221; should be {column:value} / {author:Arin Sarkissian} and key for this sample can be used or not set (&#8220;*&#8221;).</p>
<p>Maybe we can handle this inside a SliceRange &#8220;query&#8221;?</p>
<p>Thanks in Advance</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/24bab048ac907c9aeb4fb372af8cc12e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Falk Wolsky</strong> on <a href="#comment-821" title="">May 3, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-832">

			
        <p>@Falk this cannot be done out of the box. I&#8217;ll give you my answer, but really this is a question suitable to user@cassandra.</p>
<p>you can do this by implementing an application level index<br />
Or by denormalizing the data<br />
Or wait until cassandra adds indexes (I think version 0.7.0, but not sure)</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-832" title="">May 4, 2010</a> </p>
        	
        
	</li>
		
		
					
	</ol>
	
	

	<h2 id="trackbacks">3 Trackback(s)</h2>
	
	<ol class="tblist">
	

	<li id="comment-2169">
		Jun 9, 2010: <a href='http://blog.octo.com/nosql-jouons-avec-cassandra-13/' rel='external nofollow' class='url'>OCTO talks ! &raquo; Jouons avec Cassandra&#8230; (1/3)</a>			</li>
	
		

	<li id="comment-2170">
		Jun 9, 2010: <a href='http://blog.octo.com/en/nosql-lets-play-with-cassandra-part-13/' rel='external nofollow' class='url'>OCTO talks ! &raquo; Let&#8217;s play with Cassandra&#8230; (Part 1/3)</a>			</li>
	
		

	<li id="comment-2894">
		Aug 6, 2010: <a href='../../../08/06/hector-api-v2/index.html' rel='external nofollow' class='url'>Hector API v2 | PrettyPrint.me</a>			</li>
	
		

	</ol>

	

	<p id="comments-closed">Sorry, comments for this entry are closed at this time.</p>
</div>  
 
 
</div><!-- //content -->

<div id="sidebar"><!-- sidebar -->

<p class="rssfeed"><a class="rsslink" href="../../../../feed/index.html"></a>
<p><a href="http://feeds2.feedburner.com/PrettyPrintMe"><img src="http://feeds2.feedburner.com/~fc/PrettyPrintMe?bg=3069B0&amp;fg=fffdfa&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a></p>
</p>

<h2>Search</h2>
<form method="get" id="searchform" class="search" action="http://prettyprint.me/">
<input type="text" name="s" value="Type keywords and hit enter..." onfocus="if (this.value == 'Type keywords and hit enter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Type keywords and hit enter...';}" />
</form>

<!--
<h2>Categories</h2>
<ul>
		<li class="cat-item cat-item-1"><a href="http://prettyprint.me/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
</ul>
-->

<h2>Blog Archives</h2>
<ul>
  	<li><a href='../../../../2011/07/index.html' title='July 2011'>July 2011</a></li>
	<li><a href='../../../../2011/02/index.html' title='February 2011'>February 2011</a></li>
	<li><a href='../../../../2011/01/index.html' title='January 2011'>January 2011</a></li>
	<li><a href='../../../08/index.html' title='August 2010'>August 2010</a></li>
	<li><a href='../../../05/index.html' title='May 2010'>May 2010</a></li>
	<li><a href='../../../04/index.html' title='April 2010'>April 2010</a></li>
	<li><a href='../../index.html' title='March 2010'>March 2010</a></li>
	<li><a href='../../../02/index.html' title='February 2010'>February 2010</a></li>
	<li><a href='../../../01/index.html' title='January 2010'>January 2010</a></li>
	<li><a href='../../../../2009/11/index.html' title='November 2009'>November 2009</a></li>
	<li><a href='../../../../2009/10/index.html' title='October 2009'>October 2009</a></li>
	<li><a href='../../../../2009/09/index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../../../2009/08/index.html' title='August 2009'>August 2009</a></li>
	<li><a href='../../../../2009/06/index.html' title='June 2009'>June 2009</a></li>
	<li><a href='../../../../2009/05/index.html' title='May 2009'>May 2009</a></li>
</ul>

<!--
<h2>Links</h2>
<ul>
  <li><a href="http://wordpress.org/development/">Development Blog</a></li>
<li><a href="http://codex.wordpress.org/">Documentation</a></li>
<li><a href="http://wordpress.org/extend/plugins/">Plugins</a></li>
<li><a href="http://wordpress.org/extend/ideas/">Suggest Ideas</a></li>
<li><a href="http://wordpress.org/support/">Support Forum</a></li>
<li><a href="http://wordpress.org/extend/themes/">Themes</a></li>
<li><a href="http://planet.wordpress.org/">WordPress Planet</a></li>
</ul>
-->

<!--
<h2>Meta</h2>
<ul>
    <li><a href="http://prettyprint.me/wp-login.php">Log in</a></li>
  <li><a href="http://www.wordpress.org/">WordPress</a></li>
    <li><a href="http://validator.w3.org/check?uri=referer">XHTML</a></li>
</ul>
-->

 


</div> <!--//sidebar  -->

</div><!--//container-->

<div id="footer-container">
	
<div id="footer">

<div id="footerleft">
		<h2>About</h2>
  <p>Restrospective focuses on clean typography and modern colors and design.</p>
  </div>

<div id="footermid">
		<h2>Profiles, Links</h2>
	<ul>
  	<li><a href="http://www.linkedin.com/in/rantav">LinkedIn</a></li>
  	<li><a href="http://tavory.com/">Homepage</a></li>
  	<li><a href="http://twitter.com/rantav">Twitter</a></li>
  	<li><a href="http://reversim.com/">(Hebrew podcast I run) רברס עם פלטפורמה</a></li>
  	<li><a href="http://friendfeed.com/rantav">FriendFeed</a></li>
  	<li><a href="http://gbsheli.com/">Google Blog Sheli (my older blog, mostly Hebrew)</a></li>
  	<li><a href="http://www.facebook.com/people/Ran-Tavory/543122173">Facebook</a></li>
  </ul>
  </div>

<div id="footerright">
	<!--
	<h2>Recent Readers</h2>
-->
  <!--	Paste JavaScript from MyBlogLog or other services -->

  </div>

</div><!--//footer-->

<div class="copyright">
	Copyright &copy; <a href="../../../../index.html">PrettyPrint.me</a> &middot; All rights reserved.<br />
	
	Powered by <a href="http://wordpress.org/">WordPress</a> and <a href="http://blogbuildingu.com/retrospective">Retrospective theme</a> &middot; Design & code by <a href="http://blogbuildingu.com/">Hendry Lee</a>.

<script type='text/javascript' src='../../../../wp-content/plugins/contact-form-7/jquery.formd20f.js?ver=2.52'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/contact-form-7/scripts747d.js?ver=2.4.5'></script>
<script src="../../../../wp-content/plugins/tweetmeme/button.js" type="text/javascript"></script></div>

</div><!--//footer-container-->

</body>

<!-- Mirrored from prettyprint.me/2010/03/03/load-balancing-and-improved-failover-in-hector/ by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 28 Dec 2012 23:00:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
