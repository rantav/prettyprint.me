<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<title>Understanding Cassandra Code Base | PrettyPrint.me</title>
<meta name="generator" content="WordPress 3.2" /> <!-- leave this for stats -->
<link rel="alternate" type="application/rss+xml" title="PrettyPrint.me RSS Feed" href="../../../../feed/index.html" />
<link rel="pingback" href="../../../../xmlrpc.php" />
<link rel="stylesheet" type="text/css" media="all" href="../../../../wp-content/themes/retrospective/style.css" />
<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" media="all" href="http://prettyprint.me/wp-content/themes/retrospective/ie.css" />
<![endif]-->
<!--[if lte IE 6]>
	<link rel="stylesheet" type="text/css" media="all" href="http://prettyprint.me/wp-content/themes/retrospective/ie6.css" />
<![endif]--> 
<meta name="verify-v1" content="iFkC+FAFtOQ601MZ4pU4juKjv2UEYbdQNeezoVgCUyE=" >
<link rel="alternate" type="application/rss+xml" title="PrettyPrint.me &raquo; Understanding Cassandra Code Base Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='contact-form-7-css'  href='../../../../wp-content/plugins/contact-form-7/styles747d.css?ver=2.4.5' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/l10na17a.js?ver=20101110'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery51a2.js?ver=1.6.1'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/google-analyticator/external-tracking.min6fb3.js?ver=6.1.3'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='PrettyPrint.me' href='../../../../index.html' />
<link rel='start' title='Hello Pretty World' href='../../../../2009/05/17/hello-pretty-world/index.html' />
<link rel='prev' title='JMX in Hector' href='../../../04/03/jmx-in-hector/index.html' />
<link rel='next' title='Hector API v2' href='../../../08/06/hector-api-v2/index.html' />
<meta name="generator" content="WordPress 3.2" />
<link rel='shortlink' href='../../../../index8a7d.html?p=301' />

<!-- All in One SEO Pack 1.6.13.3 by Michael Torbert of Semper Fi Web Design[209,251] -->
<meta name="description" content="Lately I've been adding some random small features to cassandra so I took the time to have a closer look at the internal design of the system. While with some" />
<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<meta name="tweetmeme-title" content="Understanding Cassandra Code Base" />
<link rel="stylesheet" href="../../../../wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen" />
<!-- Google Analytics Tracking by Google Analyticator 6.1.3: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-2694026-6']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body>
<div id="header">
<a href="../../../../index.html" title="PrettyPrint.me">
<div id="logo">
<p>by Ran Tavory</p>
</div>
</a>
<div id="top_navlist">
<ul id="navlist">
<li class="page_item page-item-213"><a href="../../../../about-2/index.html" title="About.me">About.me</a></li>
<li class="page_item page-item-368"><a href="../../../../contact/index.html" title="Contact">Contact</a></li>
</ul>
</div><!--//top_navlist-->
</div><!--//header-->

<div id="container"><!--container -->
<!-- #content -->
<div id="content">

    <div class="post" id="post-301">
      <h1>Understanding Cassandra Code Base</h1>
      <p class="postmetadata"> </p>
      
      <div class="entry">
        <div class="tweetmeme_button" style="float: right; margin-left: 10px;"><a class="tm_button" rel="&amp;style=normal&amp;b=2" href="index.html"></a></div>
<p><img class="alignleft size-medium wp-image-311" title="Reading Code" src="../../../../wp-content/uploads/2010/04/Software_Test_Web-300x224.jpg" alt="" width="210" height="157" />Lately I&#8217;ve been adding some random small features to <a href="http://cassandra.apache.org/">cassandra</a> so I took the time to have a closer look at the internal design of the system.<br />
While with some features added, such as an <a href="../../../02/14/running-cassandra-as-an-embedded-service/index.html">embedded service</a>, I could have certainly get away without good understanding of the codebase and design, others, such as the <a href="https://issues.apache.org/jira/browse/CASSANDRA-531">truncate</a> feature require good understanding of the various algorithms used, such as how writes are performed, how reads are performed, how values are deleted (hint: they are not&#8230;) etc.</p>
<p>The codebase, although isn&#8217;t very large, about 91136 lines, is quite dense and packed with algorithmic sauce, so simply reading through it just didn&#8217;t cut it for me. (I used the following kong-fu to count: <code>$ cassandra/trunk $ find * -name *.java -type f -exec cat {} \;|wc -l</code>)</p>
<p>I&#8217;m writing this post in hope it&#8217;d help others get up to speed. I&#8217;m not going to cover the basics, such as what is cassandra, how to deploy, how to checkout code, how to build, how to download thrift etc. I&#8217;m also not going to cover the real algorithmic complicated parts, such as how merkle trees are used by the ae-service, how bloom filters are used in different parts of cassandra (and what are they), how gossip is used etc. I don&#8217;t think I&#8217;m the right person to explain all this, plus there are already bits of those in the cassandra <a href="http://wiki.apache.org/cassandra/ArchitectureInternals">developer wiki</a>. What I am going to write about is what was the path that I took in order to learn cassandra and what I&#8217;ve learned along the way. I haven&#8217;t found all that stuff documented somewhere else (perhaps I&#8217;ll contribute it back to the wiki when I&#8217;m done) so I think I&#8217;d be very helpful to have it next time I dive into a new codebase.</p>
<p>Lastly, a disclaimer: The views expressed here are simply my personal understanding of how the system works, they are both incomplete and inaccurate, so be warned. Keep in mind that I&#8217;m only learning and still sort of new to cassandra. Please also keep in mind that cassandra is a moving target and keeps changing so rapidly that any given snapshot of the code will get irrelevant sooner or later. By the time of writing this the currently official version is 0.6.1 but I&#8217;m working on trunk towards 0.7.0.</p>
<p>Here&#8217;s a description of the steps I took and things I learned.</p>
<h3>Download, configure, run&#8230;</h3>
<p>First you need to download the code and run unit tests. If you use eclipse, idea, netbeans, vi, emacs and what not, you want to configure it. That was easy. There&#8217;s more <a href="http://wiki.apache.org/cassandra/HowToContribute">here</a>.</p>
<h3>Reading</h3>
<p>Next you want to read some of the background material, depending on what part exactly you want to work on. I wanted to understand the read path, write path and how values are deleted, so I read the following documents about 5 times each. Yes, 5 times. Each. They are packed with information and I found myself absorbing a few more details each time I read. I used to read the document, get back to the source code, make sure I understand how the algorithm maps to the methods and classes, reread the document, reread the source code, read the unit tests (and run them, with a debugger) etc. Here are the docs.</p>
<p><a href="http://wiki.apache.org/cassandra/ArchitectureInternals">http://wiki.apache.org/cassandra/ArchitectureInternals</a></p>
<p><a href="http://www.eecs.harvard.edu/~mdw/papers/seda-sosp01.pdf">SEDA paper</a></p>
<p><a href="http://wiki.apache.org/cassandra/HintedHandoff">http://wiki.apache.org/cassandra/HintedHandoff</a></p>
<p><a href="http://wiki.apache.org/cassandra/ArchitectureAntiEntropy">http://wiki.apache.org/cassandra/ArchitectureAntiEntropy</a></p>
<p><a href="http://wiki.apache.org/cassandra/ArchitectureSSTable">http://wiki.apache.org/cassandra/ArchitectureSSTable</a></p>
<p><a href="http://wiki.apache.org/cassandra/ArchitectureCommitLog">http://wiki.apache.org/cassandra/ArchitectureCommitLog</a></p>
<p><a href="http://wiki.apache.org/cassandra/DistributedDeletes">http://wiki.apache.org/cassandra/DistributedDeletes</a></p>
<p>I also read the google <a href="http://labs.google.com/papers/bigtable.html">BigTable paper</a> and the fascinating Amazon&#8217;s <a href="http://www.allthingsdistributed.com/2007/10/amazons_dynamo.html">Dynamo paper</a>, but that was a long time ago. They are good as background material, but not required to understand actual bits of code.</p>
<p>Well, after having read all this I was starting to get a clue what can be done and how but I still didn&#8217;t feel I&#8217;m at the level of really coding new features. After reading through the code a few times I realized I&#8217;m kind of stuck and still don&#8217;t understand things like &#8220;how do values really get deleted&#8221;, which class is responsible for which functionality, what stages are there and how is data flowing between stages, or &#8220;how can I mark and entire column family as deleted&#8221;, which is what I really wanted to do with the truncate operation.</p>
<h3>Stages</h3>
<p>Cassandra operates in a concurrency model described by the SEDA paper. This basically means that, unlike many other concurrent systems, an operation, say a write operation, does not start and end by the same thread. Instead, an operation starts at one thread, which then passes it to another thread (asynchronously), which then passes it to another thread etc, until it ends. As a matter of fact, the operation doesn&#8217;t exactly flow b/w threads, it actually flows b/w <strong>stages</strong>. It moves from one stage to another. Each stage is associated with a thread pool and this thread pool executes the operation when it&#8217;s convenient to it. Some operations are IO bound, some are disk or network bound, so &#8220;convenience&#8221; is determined by resource availability. The SEDA paper explains this process very well (good read, worth your time), but basically what you gain by that is higher level of concurrently and better resource management, resource being CPU, disk, network etc.</p>
<p>So, to understand data flow in cassandra you first need to understand SEDA. Then you need to know which stages exist in cassandra and exactly does the data flow b/w them.</p>
<p>Fortunately, to get you started, a partial list of stages is present at the <a href="https://svn.apache.org/repos/asf/cassandra/trunk/src/java/org/apache/cassandra/concurrent/StageManager.java">StageManager</a> class:</p>

<div class="wp_syntax"><div class="code"><pre class="java" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #003399;">String</span> READ_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;ROW-READ-STAGE&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #003399;">String</span> MUTATION_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;ROW-MUTATION-STAGE&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #003399;">String</span> STREAM_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;STREAM-STAGE&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #003399;">String</span> GOSSIP_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;GS&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #003399;">String</span> RESPONSE_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;RESPONSE-STAGE&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #003399;">String</span> AE_SERVICE_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;AE-SERVICE-STAGE&quot;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">private</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #000000; font-weight: bold;">final</span> <span style="color: #003399;">String</span> LOADBALANCE_STAGE <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;LOAD-BALANCER-STAGE&quot;</span><span style="color: #339933;">;</span></pre></div></div>

<p>I won&#8217;t go into detail about what each and every stage is responsible for (b/c I don&#8217;t know&#8230;) but I can say that, in short, we have the ROW-READ-STAGE which takes part in the read operation, the ROW-MUTATION-STAGE which takes part in the write and delete operations, the AE-SERVICE-STAGE which is responsible for anti-entropy. This is not a comprehensive list of stages, depending on the code path you&#8217;re interested in, you may find more along the way. For example, browsing the file <a href="https://svn.apache.org/repos/asf/cassandra/trunk/src/java/org/apache/cassandra/db/ColumnFamilyStore.java">ColumnFamilyStore</a> you&#8217;ll find some more stages, such as FLUSH-SORTER-POOL, FLUSH-WRITER-POOL and MEMTABLE-POST-FLUSHER. In Cassandra stages are identified by instances of the ExecutorService, which is more or less a thread pool and they all have all-caps names, such as MEMTABLE-POST-FLUSHER.</p>
<p>To visualize that I created a diagram that mixes both classes and stages. This isn&#8217;t valid UML, but I think it&#8217;s a good way to look at how data flows in the system. This is not a comprehensive diagram of all classes and all stages, just the ones that were interesting to me.</p>
<p><img class="alignnone" title="Classes and stages" src="http://yuml.me/44bdc092" alt="" /><br />
<a href="http://yuml.me/diagram/plain;dir:LR;/class/edit/[note:Classes and STAGES], [ColumnFamilyStore| flushSorter_:FLUSH-SORTER-POOL; flushWriter_:FLUSH-WRITER-POOL; commitLogUpdater_:MEMTABLE-POST-FLUSHER], [ColumnFamilyStore]->[SSTableTracker], [ColumnFamilyStore]->[Memtable (memtable_)], [CommitLog|CommitLogExecutor], [DeletionService|FILEUTILS-DELETE-POOL], [StorageLoadBalancer| lb_:LB-OPERATIONS; lbOperations_:LB-TARGET], [StorageService| consistencyManager_:CONSISTENCY-MANAGER], [StageManager| READ_STAGE; MUTATION_STAGE; STREAM_STAGE; GOSSIP_STAGE; RESPONSE_STAGE; AE_SERVICE_STAGE; LOADBALANCE_STAGE; MIGRATION_STAGE]">yUML source</a></p>
<h3>Debugging</h3>
<p>Reading through the code using a debugger, while running a unit-test is an awesome way to get things into your head. I&#8217;m <a href="http://stackoverflow.com/questions/602138/is-a-debugger-the-mother-of-all-evil">not a huge fan of debuggers</a>, but one thing they are good at is learning a new codebase by singlestepping into unit tests. So what I did was to run the unit-tests while single stepping into the code. That was awesome. I also ran the unit tests for Hector, which uses the thrift interface and spawn an embedded cassandra server so they were right to the point, user friendly and eye opening.</p>
<h3>Class Diagrams</h3>
<p>Next thing I did is use a tool to extract class diagrams from the existing codebase. That was not a great use of my time.</p>
<p>Well, the tool I used wasn&#8217;t great, but that&#8217;s not the point. The point is that cassandra&#8217;s codebase is written in such way that class diagrams help very little in understanding it. UML class diagrams are great for object oriented design. The essence of them is the list of classes, class members and their relationships. For example if a class A has a list of Bs, so you can draw that in a UML class diagram such that A is an aggregation of Bs and just by looking at the diagram you learn a lot. For example, an Airplane has a list of Passengers.</p>
<p>Cassandra is a complex system with solid algorithmic background and excellent performance, but, to be honest, IMO from the sole perspective of good oo practice, it isn&#8217;t a good case study&#8230; Its classes contain many static methods and members and in many cases you&#8217;d see one class calling other static method of another class, C style, therefore I found that class diagrams, although they are somewhat helpful at getting a visual sense of what classes exist and learn roughly manner about their relationships, are not so helpful.</p>
<p>I ditched the class diagrams and continued to the next diagram &#8211; sequence diagrams.</p>
<h3>Sequence Diagrams</h3>
<p>Sequence diagrams are great at abstracting and visualizing interactions b/w entities. In my case an entity may either be a class, or a STAGE, or a thrift client. Luckily with sequence diagrams you don&#8217;t have to be too specific and formal about the kind of entities are used in it, you just represent them all as happy actors (at least, I allow myself to do that, I hope the gods of UML will forgive).</p>
<p>The following diagrams were produced by running <a href="../../../02/23/hector-a-java-cassandra-client/index.html">Hector</a>&#8216;s unit tests and using an embedded cassandra server (single node). The diagrams aren&#8217;t generic, they describe only <strong>one possible code path</strong> while there could be many, but I preferred keeping them as simple as possible even in the cost of small inaccuracies.</p>
<p>I used a simple online sequence diagram editor at <a href="http://www.websequencediagrams.com/">http://www.websequencediagrams.com</a> to generate them.</p>
<p>Read Path</p>
<div class="wsd">
<pre>note left of CassandraServer: Read Path

CassandraServer -&gt; StorageProxy: readProtocol
StorageProxy -&gt; weakReadLocal: READ-STAGE.call

weakReadLocal -&gt; SliceByNamesReadCommand: getRow
SliceByNamesReadCommand -&gt; Table: getRow
Table -&gt; ColumnFamilyStore: getColumnFamily
ColumnFamilyStore -&gt; QueryFilter: collectCollatedColumns
QueryFilter -&gt; ColumnFamilyStore:
ColumnFamilyStore -&gt; ColumnFamilyStore: removeDeleted
ColumnFamilyStore -&gt; Table:
Table -&gt; SliceByNamesReadCommand:
SliceByNamesReadCommand -&gt; weakReadLocal:

weakReadLocal -&gt; StorageProxy:
StorageProxy -&gt; CassandraServer:</pre>
</div>
<p><script src="http://www.websequencediagrams.com/service.js" type="text/javascript"></script></p>
<p>Write Path</p>
<div class="wsd">
<pre>note left of CassandraServer: Write Path
CassandraServer -&gt; StorageProxy: mutateBlocking

note over StorageProxy: async
StorageProxy --&gt; StorageProxy: MUTATION-STAGE call
StorageProxy -&gt; RowMutation: run

RowMutation -&gt; Table: apply

note over Table, CommitLog: async
Table --&gt; CommitLog: COMMIT-LOG-WRITER add
CommitLog -&gt; CommitLogSegment: write
CommitLogSegment -&gt; CommitLog: 

Table -&gt; ColumnFamilyStore: apply
ColumnFamilyStore -&gt; Memtable: put
Memtable -&gt; Memtable: resolve
Memtable -&gt; ColumnFamilyStore:
ColumnFamilyStore -&gt; Table:
Table -&gt; RowMutation:
RowMutation -&gt; StorageProxy:
StorageProxy --&gt; StorageProxy: signal
StorageProxy -&gt; CassandraServer:</pre>
</div>
<p><script src="http://www.websequencediagrams.com/service.js" type="text/javascript"></script></p>
<h3>Table is a Keyspace</h3>
<p>One final note: As user of cassandra I use the terms Keyspace, ColumnFamily, Column etc. However, the codebase is packed with the term Table. What are Tables?&#8230; As it turns out, a <a href="https://svn.apache.org/repos/asf/cassandra/trunk/src/java/org/apache/cassandra/db/Table.java">Table</a> is actually a Keyspace&#8230; just keep this in mind, that&#8217;s all.</p>
<p>Learning the codebase was a large and satisfying task, I hope this writing helps you get up and running as well.</p>
<script type='text/javascript'>
		<!--
		//OBSTART:do_NOT_remove_this_comment
		var OutbrainPermaLink="index.html";
		if(typeof(OB_Script)!='undefined'){OutbrainStart();} else {
		var OB_PlugInVer="7.0.0.0_Regular";;var OB_raterMode="stars";var OB_recMode="rec";var OBITm="1263219542";var OB_Script=true;var OB_langJS="";document.write(unescape("%3Cscript src='http://widgets.outbrain.com/OutbrainRater.js' type='text/javascript'%3E%3C/script%3E"));}
		//OBEND:do_NOT_remove_this_comment
		//-->
		</script>
		      </div>
      <p class="postmetadata2">Published in <a href="../../../../category/uncategorized/index.html" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a><!-- by <php the_author(); ?> -->, May 2nd, 2010 <br />
      	</p>
    </div>
    
	<!--
	<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://prettyprint.me/2010/05/02/understanding-cassandra-code-base/"
    dc:identifier="http://prettyprint.me/2010/05/02/understanding-cassandra-code-base/"
    dc:title="Understanding Cassandra Code Base"
    trackback:ping="http://prettyprint.me/2010/05/02/understanding-cassandra-code-base/trackback/" />
</rdf:RDF>	-->

  
<!-- You can start editing here. -->

<div class="boxcomments">




	<h2 id="comments">9 Responses to &#8220;Understanding Cassandra Code Base&#8221;</h2>

	<ol class="commentlist">
	
		
<li class="odd" id="comment-803">

			
        <p>Thanks for this post, investigation of cassandra architecture is exactly what I&#8217;m currently trying to do.</p>
<p>Wiki pages links you listed &#8211; where did you find its? I&#8217;m asking because main wiki page shows nothing <a href="http://wiki.apache.org/cassandra/" rel="nofollow">http://wiki.apache.org/cassandra/</a></p>
        
        <img alt='' src='http://1.gravatar.com/avatar/70e709aaf4403514634ae06b53b1d062?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Andrey Kopachevsky</strong> on <a href="#comment-803" title="">May 2, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-805">

			
        <p>From the main page there&#8217;s a Contribute link, follow its path and you&#8217;d get here <a href="http://wiki.apache.org/cassandra/ArchitectureInternals" rel="nofollow">http://wiki.apache.org/cassandra/ArchitectureInternals</a></p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-805" title="">May 2, 2010</a> </p>
        	
        
	</li>
		
		
			
<li class="odd" id="comment-848">

			
        <p>Very helpful!!!<br />
Thank you soooooo much!!!</p>
        
        <img alt='' src='http://1.gravatar.com/avatar/3999367fe7a27fd53f4f27ed24c2ac54?s=28&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://iron9light.wordpress.com/' rel='external nofollow' class='url'>IL</a></strong> on <a href="#comment-848" title="">May 5, 2010</a> </p>
        	
        
	</li>
		
		
			
<li class="odd" id="comment-906">

			
        <p>Thank you! I feel this blog is very helpful and have translated it to Chinese. Do you mind I post it on my personal blog, and I kept the original link pointing here.</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/c7c99be16a552237bbb0c0fbab2a6839?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong><a href='http://wangxu.me/blog/' rel='external nofollow' class='url'>Xu Wang</a></strong> on <a href="#comment-906" title="">May 12, 2010</a> </p>
        	
        
	</li>
		
		
		
<li class="mycomment" id="comment-909">

			
        <p>no problem, go ahead</p>
        
        <img alt='' src='http://0.gravatar.com/avatar/2cdc5c3059c40c76d5ca7bec8d149f9e?s=28&amp;d=http%3A%2F%2F0.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D28&amp;r=G' class='avatar avatar-28 photo' height='28' width='28' />        
        <p style="margin-bottom:5px;">By <strong>Ran Tavory</strong> on <a href="#comment-909" title="">May 12, 2010</a> </p>
        	
        
	</li>
		
		
				
	</ol>
	
	

	<h2 id="trackbacks">4 Trackback(s)</h2>
	
	<ol class="tblist">
	

	<li id="comment-820">
		May 3, 2010: <a href='http://www.frankdu.com/weblog/archives/143' rel='external nofollow' class='url'>How to read cassandra source code by Ran | People Mountain People Sea</a>			</li>
	
		

	<li id="comment-904">
		May 12, 2010: <a href='http://wangxu.me/blog/?p=381' rel='external nofollow' class='url'>[译文]理解Cassandra源代码 &raquo; 我有分寸</a>			</li>
	
		

	<li id="comment-3058">
		Aug 19, 2010: <a href='http://blog.keksrolle.de/2010/08/19/11-links-on-scalable-software-architecture-and-big-data.html' rel='external nofollow' class='url'>Keksrolle.de &raquo; Blog Archive &raquo; 11 links on scalable software architecture and big data</a>			</li>
	
		

	<li id="comment-3896">
		Oct 19, 2010: <a href='http://pulse2.com/2010/10/18/stack-overflow-co-founder-joel-spolsky-questions-why-digg-has-so-many-servers/' rel='external nofollow' class='url'>Stack Overflow Co-Founder Joel Spolsky Questions Why Digg Has So Many Servers</a>			</li>
	
		

	</ol>

	

	<p id="comments-closed">Sorry, comments for this entry are closed at this time.</p>
</div>  
 
 
</div><!-- //content -->

<div id="sidebar"><!-- sidebar -->

<p class="rssfeed"><a class="rsslink" href="../../../../feed/index.html"></a>
<p><a href="http://feeds2.feedburner.com/PrettyPrintMe"><img src="http://feeds2.feedburner.com/~fc/PrettyPrintMe?bg=3069B0&amp;fg=fffdfa&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a></p>
</p>

<h2>Search</h2>
<form method="get" id="searchform" class="search" action="http://prettyprint.me/">
<input type="text" name="s" value="Type keywords and hit enter..." onfocus="if (this.value == 'Type keywords and hit enter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Type keywords and hit enter...';}" />
</form>

<!--
<h2>Categories</h2>
<ul>
		<li class="cat-item cat-item-1"><a href="http://prettyprint.me/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
</ul>
-->

<h2>Blog Archives</h2>
<ul>
  	<li><a href='../../../../2011/07/index.html' title='July 2011'>July 2011</a></li>
	<li><a href='../../../../2011/02/index.html' title='February 2011'>February 2011</a></li>
	<li><a href='../../../../2011/01/index.html' title='January 2011'>January 2011</a></li>
	<li><a href='../../../08/index.html' title='August 2010'>August 2010</a></li>
	<li><a href='../../index.html' title='May 2010'>May 2010</a></li>
	<li><a href='../../../04/index.html' title='April 2010'>April 2010</a></li>
	<li><a href='../../../03/index.html' title='March 2010'>March 2010</a></li>
	<li><a href='../../../02/index.html' title='February 2010'>February 2010</a></li>
	<li><a href='../../../01/index.html' title='January 2010'>January 2010</a></li>
	<li><a href='../../../../2009/11/index.html' title='November 2009'>November 2009</a></li>
	<li><a href='../../../../2009/10/index.html' title='October 2009'>October 2009</a></li>
	<li><a href='../../../../2009/09/index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../../../2009/08/index.html' title='August 2009'>August 2009</a></li>
	<li><a href='../../../../2009/06/index.html' title='June 2009'>June 2009</a></li>
	<li><a href='../../../../2009/05/index.html' title='May 2009'>May 2009</a></li>
</ul>

<!--
<h2>Links</h2>
<ul>
  <li><a href="http://wordpress.org/development/">Development Blog</a></li>
<li><a href="http://codex.wordpress.org/">Documentation</a></li>
<li><a href="http://wordpress.org/extend/plugins/">Plugins</a></li>
<li><a href="http://wordpress.org/extend/ideas/">Suggest Ideas</a></li>
<li><a href="http://wordpress.org/support/">Support Forum</a></li>
<li><a href="http://wordpress.org/extend/themes/">Themes</a></li>
<li><a href="http://planet.wordpress.org/">WordPress Planet</a></li>
</ul>
-->

<!--
<h2>Meta</h2>
<ul>
    <li><a href="http://prettyprint.me/wp-login.php">Log in</a></li>
  <li><a href="http://www.wordpress.org/">WordPress</a></li>
    <li><a href="http://validator.w3.org/check?uri=referer">XHTML</a></li>
</ul>
-->

 


</div> <!--//sidebar  -->

</div><!--//container-->

<div id="footer-container">
	
<div id="footer">

<div id="footerleft">
		<h2>About</h2>
  <p>Restrospective focuses on clean typography and modern colors and design.</p>
  </div>

<div id="footermid">
		<h2>Profiles, Links</h2>
	<ul>
  	<li><a href="http://www.linkedin.com/in/rantav">LinkedIn</a></li>
  	<li><a href="http://tavory.com/">Homepage</a></li>
  	<li><a href="http://twitter.com/rantav">Twitter</a></li>
  	<li><a href="http://reversim.com/">(Hebrew podcast I run) רברס עם פלטפורמה</a></li>
  	<li><a href="http://friendfeed.com/rantav">FriendFeed</a></li>
  	<li><a href="http://gbsheli.com/">Google Blog Sheli (my older blog, mostly Hebrew)</a></li>
  	<li><a href="http://www.facebook.com/people/Ran-Tavory/543122173">Facebook</a></li>
  </ul>
  </div>

<div id="footerright">
	<!--
	<h2>Recent Readers</h2>
-->
  <!--	Paste JavaScript from MyBlogLog or other services -->

  </div>

</div><!--//footer-->

<div class="copyright">
	Copyright &copy; <a href="../../../../index.html">PrettyPrint.me</a> &middot; All rights reserved.<br />
	
	Powered by <a href="http://wordpress.org/">WordPress</a> and <a href="http://blogbuildingu.com/retrospective">Retrospective theme</a> &middot; Design & code by <a href="http://blogbuildingu.com/">Hendry Lee</a>.

<script type='text/javascript' src='../../../../wp-content/plugins/contact-form-7/jquery.formd20f.js?ver=2.52'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/contact-form-7/scripts747d.js?ver=2.4.5'></script>
<script src="../../../../wp-content/plugins/tweetmeme/button.js" type="text/javascript"></script></div>

</div><!--//footer-container-->

</body>

<!-- Mirrored from prettyprint.me/2010/05/02/understanding-cassandra-code-base/ by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 28 Dec 2012 23:00:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
